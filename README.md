# Scoped storage

~~~ Установите targetSdk минимум на 30-ю версию.
~~~ Запросите разрешения, требуемые для чтения списка shared видеофайлов всех приложений.
~~~ Выведите список видеофайлов на устройстве с использованием MediaStore API. Для этого
используйте класс MediaStore.Video.Media. В элементе списка должны присутствовать: название
 видеофайла, превью, размер. Дополнительные параметры — по желанию.
~~~ Добавьте возможность скачивать видеофайлы их сети и сохранять их в shared external storage
с помощью MediaStore API. Пользователь должен иметь возможность ввести название файла и URL,
по которому файл необходимо скачать.
~~~ Сохраните скачанный видеофайл в папку sdcard/Movies.
>>> Нужно проверить --!!>> Обработайте ошибку скачивания файла так, чтобы при её возникновении уже созданный файл
удалялся из MediaStore.
~~~ Добавьте возможность удалять видеофайл из списка. Должна быть возможность удалять файл,
 созданный и вашим, и другими приложениями. Обработайте RecoverableSecurityException.
~~~ После удаления видеофайла список должен автоматически обновляться.
~~~ По желанию добавьте проверку, что файл по URI подходит под MIME-тип video.
Для этого можно использовать методы класса MimeTypeMap.
~~~ По желанию добавьте возможность отмечать файлы избранными и перемещать их в корзину.
>>> Добавьте возможность скачивать видеофайлы в папку, выбранную пользователем. Для этого
используйте системный пикер. Пользователь в пикере указывает название файла и расположение,
приложение скачивает видеофайл в выбранную локацию. Для этого используйте Intent с
 ACTION_CREATE_DOCUMENT.

Рекомендации по выполнению

~~~ Glide умеет выводить превью видео по URI.
~~~ В процессе скачивания файла устанавливайте флаг IS_PENDING.

Критерии оценки

~~~ Выводится список видеофайлов на устройстве. При съёмке нового видеофайла из камеры
устройства он отображается в списке приложения.
~~~ Есть возможность скачать видеофайл по URL в папку /sdcard/Movies. При условии выполнения
дополнительного задания приложение выводит ошибку при использовании URL файла другого типа.
~~~ Обрабатывается ошибка скачивания файла, запись о файле удаляется из MediaStore.
~~~ Есть возможность удалить видеофайл, созданный как вашим, так и сторонним приложением. При
удалении файла стороннего приложения выводится системное диалоговое окно подтверждения
 удаления.
~~~ Приложение корректно работает на устройствах с разными версиями ОС, начиная c API 21.
Для реализации используется минимальный набор разрешений.